import{d as O,r as y,a as $,n as j,V as h,x as w,_ as N,c as x,b as o,w as a,F as V,e as n,o as C,f as k,g as f,h as P,i as A}from"./index.c7f7d34c.js";const L={},U=L,R=O({setup(){const t=y({filterClass:"",filterName:""}),e=y({submitLoading:!1,list:[],tableData:[{goodsName:"\u67E0\u6AAC\u767D\u6708\u5149",goodsClassification:"\u996E\u6599",goodsPrice:8},{goodsName:"\u8349\u8393\u5575\u5575",goodsClassification:"\u996E\u6599",goodsPrice:8},{goodsName:"\u536B\u9F99\u5927\u9762\u7B4B",goodsClassification:"\u96F6\u98DF",goodsPrice:5},{goodsName:"\u7EDF\u4E00\u9EBB\u8FA3\u7B0B\u5B50\u725B\u8089\u9762",goodsClassification:"\u5FEB\u9910",goodsPrice:6}],selectRow:null,showEdit:!1,isAddContinue:!0,disabledIsAddContinue:!0,formData:{goodsName:"",goodsClassification:"",goodsPrice:""},classList:[{label:"\u996E\u6599",value:"\u996E\u6599"},{label:"\u96F6\u98DF",value:"\u96F6\u98DF"},{label:"\u9999\u70DF",value:"\u9999\u70DF"},{label:"\u5FEB\u9910",value:"\u5FEB\u9910"}],formRules:{goodsName:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"},{min:1,max:15,message:"\u957F\u5EA6\u5728 1 \u5230 15 \u4E2A\u5B57\u7B26"}],goodsClassification:[{required:!0,message:"\u8BF7\u9009\u62E9\u5206\u7C7B"}],goodsPrice:[{required:!0,message:"\u8BF7\u8F93\u5165\u552E\u4EF7"}]}}),r=$(),E=$(),F=({cellValue:u})=>{const l=e.classList.find(_=>_.value===u);return l?l.label:""},B=()=>{e.formData={goodsName:"",goodsClassification:"",goodsPrice:""},e.selectRow=null,e.showEdit=!0,e.isAddContinue=!0,e.disabledIsAddContinue=!1},c=u=>{e.formData={goodsName:u.goodsName,goodsClassification:u.goodsClassification,goodsPrice:u.goodsPrice},e.selectRow=u,e.showEdit=!0,e.isAddContinue=!1,e.disabledIsAddContinue=!0},d=({row:u})=>{c(u)},v=async u=>{await h.modal.confirm("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u6570\u636E?")==="confirm"&&r.value.remove(u)},m=()=>{e.submitLoading=!0,setTimeout(()=>{const u=r.value;e.submitLoading=!1,e.showEdit=!1,e.selectRow?(h.modal.message({content:"\u4FDD\u5B58\u6210\u529F",status:"success"}),Object.assign(e.selectRow,e.formData)):(h.modal.message({content:"\u65B0\u589E\u6210\u529F",status:"success"}),u.insert(e.formData),e.formData={goodsName:"",goodsClassification:"",goodsPrice:""},e.showEdit=!!e.isAddContinue)},500)},D=async()=>{await h.modal.confirm("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6240\u6709\u9009\u4E2D\u7684\u5546\u54C1\u5417?")==="confirm"&&await r.value.removeCheckboxRow()};j(()=>{const u=r.value,l=E.value;u.connect(l)});const g=()=>{const u=w.toValueString(t.filterName).trim().toLowerCase();if(u){const l=["goodsName","goodsClassification","goodsPrice"],_=e.tableData.filter(b=>l.some(p=>w.toValueString(b[p]).toLowerCase().indexOf(u)>-1));e.list=_.map(b=>{const p=Object.assign({},b);return l.forEach(s=>{p[s]=w.toValueString(p[s])}),p})}else e.list=e.tableData};return g(),{xToolbar:E,headerObj:t,goodsObj:e,xTable:r,formatterClass:F,addGoodsEvent:B,editItemEvent:c,cellDBLClickEvent:d,deleteItemEvent:v,submitEvent:m,deleteCheckEvent:D,goodsSearchEvent:g}}}),I=f("\u65B0\u589E\u5546\u54C1"),S=P("img",{src:"https://pic2.zhimg.com/50/v2-f7031359103859e1ed38559715ef5f3f_hd.gif",style:{width:"100px"}},null,-1),T=f("\u7F16\u8F91"),q=f("\u5220\u9664"),z=f("\u5220\u9664\u9009\u4E2D"),G=f("\u5143 "),K=f("\u63D0\u4EA4"),H=f("\u91CD\u7F6E");function M(t,e,r,E,F,B){const c=n("vxe-input"),d=n("vxe-button"),v=n("vxe-toolbar"),m=n("vxe-column"),D=n("vxe-table"),g=n("vxe-form-item"),u=n("vxe-option"),l=n("vxe-select"),_=n("vxe-checkbox"),b=n("vxe-form"),p=n("vxe-modal");return C(),x(V,null,[o(v,{ref:"xToolbar"},{buttons:a(()=>[o(c,{resize:"",modelValue:t.headerObj.filterName,"onUpdate:modelValue":e[0]||(e[0]=s=>t.headerObj.filterName=s),placeholder:"\u5546\u54C1\u641C\u7D22(\u5206\u7C7B\u3001\u540D\u79F0\u3001\u552E\u4EF7)",type:"search",onKeyup:t.goodsSearchEvent,clearable:""},null,8,["modelValue","onKeyup"]),o(d,{status:"primary",icon:"vxe-icon-square-plus",onClick:e[1]||(e[1]=s=>t.addGoodsEvent())},{default:a(()=>[I]),_:1})]),_:1},512),o(D,{stripe:"","filter-config":{iconNone:"vxe-icon-caret-down",iconMatch:"vxe-icon-caret-down"},"row-config":{isHover:!0,height:20},ref:"xTable",height:"700",data:t.goodsObj.list},{default:a(()=>[o(m,{type:"checkbox",width:"60"}),o(m,{type:"seq",title:"\u5E8F\u53F7",width:"100"}),o(m,{field:"goodsClassification",title:"\u5546\u54C1\u5206\u7C7B","sort-type":"string",sortable:"",width:"200",formatter:t.formatterClass,filters:t.goodsObj.classList},null,8,["formatter","filters"]),o(m,{title:"\u56FE\u7247",width:"140",align:"center"},{default:a(()=>[S]),_:1}),o(m,{field:"goodsName",title:"\u5546\u54C1\u540D\u79F0","sort-type":"string",sortable:""}),o(m,{field:"goodsPrice",title:"\u5546\u54C1\u552E\u4EF7","sort-type":"number",sortable:"",width:"200"}),o(m,{title:"\u64CD\u4F5C",width:"400","show-overflow":""},{default:a(({row:s})=>[o(d,{status:"primary",type:"text",icon:"vxe-icon-edit",onClick:i=>t.editItemEvent(s)},{default:a(()=>[T]),_:2},1032,["onClick"]),o(d,{status:"danger",type:"text",icon:"vxe-icon-delete",onClick:i=>t.deleteItemEvent(s)},{default:a(()=>[q]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o(v,null,{buttons:a(()=>[o(d,{status:"danger",onClick:t.deleteCheckEvent},{default:a(()=>[z]),_:1},8,["onClick"])]),_:1}),o(p,{modelValue:t.goodsObj.showEdit,"onUpdate:modelValue":e[3]||(e[3]=s=>t.goodsObj.showEdit=s),title:t.goodsObj.selectRow?"\u7F16\u8F91&\u4FDD\u5B58":"\u65B0\u589E&\u4FDD\u5B58",width:"800","min-width":"600","min-height":"300",loading:t.goodsObj.submitLoading,resize:"","destroy-on-close":""},{default:a(()=>[o(b,{data:t.goodsObj.formData,rules:t.goodsObj.formRules,"title-align":"right","title-width":"100",onSubmit:t.submitEvent},{default:a(()=>[o(g,{field:"goodsName",title:"\u5546\u54C1\u540D\u79F0",span:12,"item-render":{}},{default:a(({data:s})=>[o(c,{modelValue:s.goodsName,"onUpdate:modelValue":i=>s.goodsName=i,placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u540D\u79F0(1\u523015\u5B57\u957F\u5EA6)",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(g,{field:"goodsClassification",title:"\u5546\u54C1\u5206\u7C7B",span:12,"item-render":{}},{default:a(({data:s})=>[o(l,{modelValue:s.goodsClassification,"onUpdate:modelValue":i=>s.goodsClassification=i,transfer:"",placeholder:"\u8BF7\u9009\u62E9\u5206\u7C7B"},{default:a(()=>[(C(!0),x(V,null,k(t.goodsObj.classList,i=>(C(),A(u,{key:i.value,value:i.value,label:i.label},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),o(g,{field:"goodsPrice",title:"\u5546\u54C1\u552E\u4EF7",span:10,"item-render":{}},{default:a(({data:s})=>[o(c,{modelValue:s.goodsPrice,"onUpdate:modelValue":i=>s.goodsPrice=i,type:"float",min:"0",max:"99999.99",placeholder:"0-99999.99",clearable:""},null,8,["modelValue","onUpdate:modelValue"]),G]),_:1}),o(g,{align:"center","title-align":"left",span:24},{default:a(()=>[o(d,{type:"submit"},{default:a(()=>[K]),_:1}),o(d,{type:"reset"},{default:a(()=>[H]),_:1}),o(_,{modelValue:t.goodsObj.isAddContinue,"onUpdate:modelValue":e[2]||(e[2]=s=>t.goodsObj.isAddContinue=s),content:"\u7EE7\u7EED\u6DFB\u52A0",disabled:t.goodsObj.disabledIsAddContinue},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["data","rules","onSubmit"])]),_:1},8,["modelValue","title","loading"])],64)}const X=N(R,[["render",M]]),J={},Q=f(" \u5206\u7C7B\u3001\u641C\u7D22\u3001\u65B0\u589E\u5546\u54C1 ");function W(t,e){const r=n("n-card");return C(),A(r,{title:"\u5546\u54C1\u7BA1\u7406"},{default:a(()=>[Q]),_:1})}const Y=N(J,[["render",W]]),Z=[{sn:1,classify:"\u996E\u6599",goodsName:"\u539F\u5473\u5976\u8336",price:8},{sn:2,classify:"\u96F6\u98DF",goodsName:"\u4EB2\u5634\u70E7",price:1},{sn:3,classify:"\u996E\u6599",goodsName:"\u8D85\u7EA7\u6C34\u679C\u8336",price:16}],ee=Z,oe={components:{testVue:U,ChildComp_list:X,ChildComp_headerCard:Y},data(){return{goodsListSimData:ee}}};function te(t,e,r,E,F,B){const c=n("n-space"),d=n("ChildComp_list");return C(),x(V,null,[o(c),o(c,{vertical:""},{default:a(()=>[o(d)]),_:1})],64)}const ue=N(oe,[["render",te]]);export{ue as default};
